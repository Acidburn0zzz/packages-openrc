# Maintainer: udeved <udeved@openrc4arch.site40.net>

_pn=openrc-plugins
_rn=lm_sensors

pkgname=$_rn-openrc
pkgver=0.4
pkgrel=1
pkgdesc="OpenRC $_rn init script"
arch=('any')
url="http://openrc4arch.site40.net"
license=('GPL2')
groups=('openrc-misc')
depends=('openrc' "$_rn")
install=$_rn.install
source=("$url/pool/archlinux/$_pn-$pkgver.tar.xz")

package() {
	if [ -f '/etc/conf.d/sensord' ];then
		install -Dm755 "$srcdir/$_pn/$_rn/conf.d/sensord-conf.d" "$pkgdir/etc/conf.d/sensord-rc"
		install -Dm755 "$srcdir/$_pn/$_rn/init.d/sensord-4-init.d" "$pkgdir/etc/init.d/sensord-rc"
	else
		install -Dm755 "$srcdir/$_pn/$_rn/conf.d/sensord-conf.d" "$pkgdir/etc/conf.d/sensord"
		install -Dm755 "$srcdir/$_pn/$_rn/init.d/sensord-4-init.d" "$pkgdir/etc/init.d/sensord"
	fi
	install -Dm755 "$srcdir/$_pn/$_rn/init.d/fancontrol-init.d-2" "$pkgdir/etc/init.d/fancontrol"
	install -Dm755 "$srcdir/$_pn/$_rn/init.d/lm_sensors-3-init.d" "$pkgdir/etc/init.d/lm_sensors"
}
sha256sums=('69abf8eb52d83a7e5476ff4abc5113287668b2b6b4ec52e5dfee29bc59a6b3b8')
